{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CampaignForm(){const[status,setStatus]=useState('');const[response,setResponse]=useState(null);const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const checkAuthentication=async()=>{try{const res=await axios.get('http://localhost:5000/auth/status');setIsAuthenticated(res.data.isAuthenticated);}catch(error){console.error('Error checking authentication',error);}};checkAuthentication();},[]);const handleChange=e=>{setStatus(e.target.value);};const handleSubmit=async e=>{e.preventDefault();if(!isAuthenticated){return alert('You must be logged in to post an ad');}try{const res=await axios.post('http://localhost:5000/api/twitterAd',{status});setResponse(res.data);}catch(error){console.error('Error posting ad',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a Twitter Ad\"}),isAuthenticated?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ad Text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:status,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post Ad\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Please log in to post an ad.\"}),response&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Ad Posted: \",JSON.stringify(response)]})]});}export default CampaignForm;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","CampaignForm","status","setStatus","response","setResponse","isAuthenticated","setIsAuthenticated","checkAuthentication","res","get","data","error","console","handleChange","e","target","value","handleSubmit","preventDefault","alert","post","children","onSubmit","type","onChange","required","JSON","stringify"],"sources":["/Users/jerry/social_network/client/src/components/CampaignForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction CampaignForm() {\n  const [status, setStatus] = useState('');\n  const [response, setResponse] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        const res = await axios.get('http://localhost:5000/auth/status');\n        setIsAuthenticated(res.data.isAuthenticated);\n      } catch (error) {\n        console.error('Error checking authentication', error);\n      }\n    };\n    checkAuthentication();\n  }, []);\n\n  const handleChange = (e) => {\n    setStatus(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!isAuthenticated) {\n      return alert('You must be logged in to post an ad');\n    }\n    try {\n      const res = await axios.post('http://localhost:5000/api/twitterAd', { status });\n      setResponse(res.data);\n    } catch (error) {\n      console.error('Error posting ad', error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Create a Twitter Ad</h2>\n      {isAuthenticated ? (\n        <form onSubmit={handleSubmit}>\n          <div>\n            <label>Ad Text</label>\n            <input type=\"text\" value={status} onChange={handleChange} required />\n          </div>\n          <button type=\"submit\">Post Ad</button>\n        </form>\n      ) : (\n        <p>Please log in to post an ad.</p>\n      )}\n      {response && <div>Ad Posted: {JSON.stringify(response)}</div>}\n    </div>\n  );\n}\n\nexport default CampaignForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,mCAAmC,CAAC,CAChEH,kBAAkB,CAACE,GAAG,CAACE,IAAI,CAACL,eAAe,CAAC,CAC9C,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACF,CAAC,CACDJ,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,YAAY,CAAIC,CAAC,EAAK,CAC1BZ,SAAS,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAChCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAI,CAACb,eAAe,CAAE,CACpB,MAAO,CAAAc,KAAK,CAAC,qCAAqC,CAAC,CACrD,CACA,GAAI,CACF,KAAM,CAAAX,GAAG,CAAG,KAAM,CAAAb,KAAK,CAACyB,IAAI,CAAC,qCAAqC,CAAE,CAAEnB,MAAO,CAAC,CAAC,CAC/EG,WAAW,CAACI,GAAG,CAACE,IAAI,CAAC,CACvB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,CAAEA,KAAK,CAAC,CAC1C,CACF,CAAC,CAED,mBACEZ,KAAA,QAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAI,qBAAmB,CAAI,CAAC,CAC3BhB,eAAe,cACdN,KAAA,SAAMuB,QAAQ,CAAEL,YAAa,CAAAI,QAAA,eAC3BtB,KAAA,QAAAsB,QAAA,eACExB,IAAA,UAAAwB,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBxB,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACP,KAAK,CAAEf,MAAO,CAACuB,QAAQ,CAAEX,YAAa,CAACY,QAAQ,MAAE,CAAC,EAClE,CAAC,cACN5B,IAAA,WAAQ0B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,cAEPxB,IAAA,MAAAwB,QAAA,CAAG,8BAA4B,CAAG,CACnC,CACAlB,QAAQ,eAAIJ,KAAA,QAAAsB,QAAA,EAAK,aAAW,CAACK,IAAI,CAACC,SAAS,CAACxB,QAAQ,CAAC,EAAM,CAAC,EAC1D,CAAC,CAEV,CAEA,cAAe,CAAAH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}